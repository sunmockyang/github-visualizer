function LibraryMouse(e){function t(e,t,i){e?v.element.addEventListener(t,i):v.element.removeEventListener(t,i)}this.x=this.y=0,this.mouseover=!1,this.clicked=this.LClicked=this.MClicked=this.RClicked=!1,this.wheelDir=0,this.isStaticElement=!1,this.elementX=this.elementY=0;var i,s,o,u,n,l,c,r,h,m,d,a,k,f,p,b,v=this;this.click=function(e){v.update(e);var t=i?i(e):!1;return v.clicked=!1,null!=s&&0===e.button?(v.LClicked=!1,s(e)):null!=o&&2===e.button?(v.RClicked=!1,o(e)):t},this.mousedown=function(e){v.update(e);var t=u?u(e):!1;return v.clicked=!0,null!=l&&0===e.button?(v.LClicked=!0,l(e)):null!=n&&1===e.button?(v.MClicked=!0,n(e)):null!=c&&2===e.button?(v.RClicked=!0,c(e)):t},this.mouseup=function(e){v.update(e);var t=r?r(e):!1;return v.clicked=!1,null!=m&&0===e.button?(v.LClicked=!1,m(e)):null!=h&&1===e.button?(v.MClicked=!1,h(e)):null!=d&&2===e.button?(v.RClicked=!1,d(e)):t},this.doubleclick=function(e){return v.update(e),v.clicked=!1,v.LClicked=!1,a(e)},this.mousewheel=function(e){return v.update(e),v.wheelDir=(e.wheelDelta||e.detail)>0?1:-1,k(e)},this.mouseover=function(e){return v.update(e),v.mouseover=!0,f(e)},this.mouseout=function(e){return v.update(e),v.mouseover=!1,p(e)},this.mousemove=function(e){return v.update(e),b(e)},this.removeEventListener=function(e){this.addEventListener(e,null)},this.addEventListener=function(e,v){var w=null,y=null!==v;switch(e){case"click":i=v;break;case"leftclick":s=v,w="click";break;case"rightclick":return o=v,void t(y,"contextmenu",this.click);case"mousedown":u=v;break;case"leftmousedown":l=v,w="mousedown";break;case"middlemousedown":n=v,w="mousedown";break;case"rightmousedown":c=v,w="mousedown";break;case"mouseup":r=v;break;case"leftmouseup":m=v,w="mouseup";break;case"middlemouseup":h=v,w="mouseup";break;case"rightmouseup":d=v,w="mouseup";break;case"doubleclick":return a=v,void t(y,"dblclick",this.doubleclick);case"mousewheel":k=v,t(y,"DOMMouseScroll",this.mousewheel);break;case"mouseover":f=v;break;case"mouseout":p=v;break;case"mousemove":b=v}e=null===w?e:w,t(y,e,this[e])},this.init(e)}LibraryMouse.prototype.element=null,LibraryMouse.prototype.init=function(e){this.setElement(e)},LibraryMouse.prototype.addEventContainer=function(e){for(var t=["click","leftclick","rightclick","mousedown","leftmousedown","middlemousedown","rightmousedown","mouseup","leftmouseup","middlemouseup","rightmouseup","doubleclick","mousewheel","mouseover","mouseout","mousemove"],i=0;i<t.length;i++)e[t[i]]&&this.addEventListener(t[i],e[t[i]])},LibraryMouse.prototype.setElement=function(e,t){this.element=e,this.isStaticElement=void 0===t?!1:t,this.isStaticElement&&this.getOffset()},LibraryMouse.prototype.getOffset=function(){var e=this.element.getBoundingClientRect();return{y:e.top,x:e.left}},LibraryMouse.prototype.update=function(e){this.staticElement||this.getOffset(this.element),this.x=e.clientX-this.elementX,this.y=e.clientY-this.elementY,this.x>this.element.offsetWidth?this.x=this.element.offsetWidth:this.x<=0&&(this.x=0),this.y>this.element.offsetHeight?this.y=this.element.offsetHeight:this.y<=0&&(this.y=0)};